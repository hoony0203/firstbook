CREATE TABLE MEM_INFO
(
MEM_NUM NUMBER PRIMARY KEY,
MEM_CLASS_CODE VARCHAR2(4),
MEM_NAME VARCHAR2(15) NOT NULL UNIQUE,
MEM_ID VARCHAR2(12) NOT NULL UNIQUE,
MEM_PWD VARCHAR2(12) NOT NULL,
MEM_EMAIL VARCHAR2(320) NOT NULL UNIQUE,
MEM_ADDRESS VARCHAR2(320) NOT NULL
);

CREATE TABLE NOV_CATEGORY(
CATEGORY_CODE VARCHAR2(5) PRIMARY KEY,
CATEGORY_NAME VARCHAR2(12)
);

CREATE TABLE AUTHOR_INFO
(
AUTHOR_NUM NUMBER PRIMARY KEY,
MEM_NUM NUMBER,
COMPET_NUM NUMBER,
AUTHOR_REG_YN CHAR(2),
JUNIOR_YN CHAR(2)
);

CREATE TABLE COMPET_INFO
(
COMPETE_NUM NUMBER,
COMPET_NAME VARCHAR2(20),
COMPET_DATE DATE,
COMPET_REQUIRE_DOC VARCHAR2(100),
COMPET_ACTIVE_OR_NOT CHAR(2),
COMPET_RECRUIT_NUM NUMBER,
COMPET_CONTENT VARCHAR2(400)
);

CREATE TABLE TMT_INFO
(
TMT_CODE NUMBER,
TMT_NAME VARCHAR2(20),
TMT_START_DATE DATE,
TMT_END_DATE DATE,
TMT_CONTENT VARCHAR2(400),
TMT_ACTIVE_OR_NOT CHAR(2)
);

CREATE TABLE COMPET_LIST
(
WEB_NOV_NUM NUMBER,
AUTHOR_NUM NUMBER,
MEM_NUM NUMBER,
COMPET_NUM NUMBER,
COMPET_PAPER_YN CHAR(2)
);

CREATE TABLE TMT_LIST
(
WEB_NOV_NUM NUMBER,
AUTHOR_NUM NUMBER,
MEM_NUM NUMBER,
TMT_CODE NUMBER
);

CREATE TABLE WEB_NOVEL(
WEB_NOV_NUM NUMBER PRIMARY KEY,
CATEGORY_CODE VARCHAR(4),
DAY_OF_THE_WEEK_CODE VARCHAR2(3)
);

CREATE TABLE WEB_NOV_INFO(
WEB_NOV_NUM NUMBER,
AUTHOR_NUM NUMBER,
MEM_NUM NUMBER,
NOV_NAME VARCHAR2(20),
AUTHOR_NAME VARCHAR2(20),
NOV_PRICE NUMBER,
PUBLISHER VARCHAR2(20),
NOV_INFORM VARCHAR2(1200)
);

-------------------insert

INSERT INTO MEM_INFO
(
 MEM_NUM, MEM_CLASS_CODE, MEM_NAME, MEM_ID, MEM_PWD, MEM_EMAIL, MEM_ADDRESS
)
VALUES
(
 1, 'A1', '임창훈', 'hoony0203', '1234', 'hoony0203@naver.com', '서울시 송파구 올림픽로 435 파크리오 아파트'
);

INSERT INTO MEM_INFO
(
 MEM_NUM, MEM_CLASS_CODE, MEM_NAME, MEM_ID, MEM_PWD, MEM_EMAIL, MEM_ADDRESS
)
VALUES
(
 2, 'B2', '김독자', 'reader0123', '1234', 'reader0123@gmail.com', '서울시 관악구'
);

INSERT INTO MEM_INFO
(
 MEM_NUM, MEM_CLASS_CODE, MEM_NAME, MEM_ID, MEM_PWD, MEM_EMAIL, MEM_ADDRESS
)
VALUES
(
 3, 'C3', '글쓰는기계', 'novmachine', '1234', 'novmachine@gmail.com', '서울시 서초구'
);

INSERT INTO MEM_INFO
(
 MEM_NUM, MEM_CLASS_CODE, MEM_NAME, MEM_ID, MEM_PWD, MEM_EMAIL, MEM_ADDRESS
)
VALUES
(
 4, 'C3', '싱숑', 'singshown', '1234', 'singshown@gmail.com', '서울시 노원구'
);

INSERT INTO MEM_INFO
(
 MEM_NUM, MEM_CLASS_CODE, MEM_NAME, MEM_ID, MEM_PWD, MEM_EMAIL, MEM_ADDRESS
)
VALUES
(
 5, 'C3', '이영도', 'LYD', '1234', 'LYD@gmail.com', '경기도 성남시'
);

INSERT INTO MEM_INFO
(
 MEM_NUM, MEM_CLASS_CODE, MEM_NAME, MEM_ID, MEM_PWD, MEM_EMAIL, MEM_ADDRESS
)
VALUES
(
6, 'C3', '신인', 'newman', '1234', 'nm@gmail.com', '강원도 인제군 원통리'
);


CREATE TABLE MEM_CLASS_CODE
(
  MEM_CLASS_CODE VARCHAR2(4) PRIMARY KEY,
  MEM_CLASSIFY_NAME VARCHAR2(10)
);

INSERT INTO MEM_CLASS_CODE
(
 MEM_CLASS_CODE, MEM_CLASSIFY_NAME
)
VALUES
(
 'A1', '관리자'
);

SELECT * FROM MEM_CLASS_CODE;

INSERT INTO MEM_CLASS_CODE
(
 MEM_CLASS_CODE, MEM_CLASSIFY_NAME
)
VALUES
(
 'B2', '회원'
);

INSERT INTO MEM_CLASS_CODE
(
 MEM_CLASS_CODE, MEM_CLASSIFY_NAME
)
VALUES
(
 'C3', '작가'
);


INSERT INTO AUTHOR_INFO
(
 AUTHOR_NUM, MEM_NUM, AUTHOR_REG_YN, JUNIOR_YN
)
VALUES
(
 3, 3, 'Y', 'N'
)
;

INSERT INTO AUTHOR_INFO
(
 AUTHOR_NUM, MEM_NUM, AUTHOR_REG_YN, JUNIOR_YN
)
VALUES
(
4 , 6, 'Y', 'Y'
)
;


INSERT INTO AUTHOR_INFO
(
 AUTHOR_NUM, MEM_NUM, AUTHOR_REG_YN, JUNIOR_YN
)
VALUES
(
1 , 5, 'Y', 'N'
)
;

INSERT INTO WEB_NOV_INFO
(WEB_NOV_NUM, AUTHOR_NUM, MEM_NUM,
 NOV_NAME, AUTHOR_NAME, NOV_PRICE, PUBLISHER, NOV_INFORM
)
VALUES
(1, 1, 5, '드래곤라자', '이영도', 10000, '황금가지', '짱재밌음'
);

INSERT INTO WEB_NOV_INFO
(WEB_NOV_NUM, AUTHOR_NUM, MEM_NUM,
 NOV_NAME, AUTHOR_NAME, NOV_PRICE, PUBLISHER, NOV_INFORM
)
VALUES
(2, 2, 4, '전독시', '싱숑', 20000, '문피아', '오직 나만이, 이 세계의 결말을 알고 있다.'
);

INSERT INTO WEB_NOVEL(
WEB_NOV_NUM, CATEGORY_CODE, DAY_OF_THE_WEEK_CODE
)
VALUES
(1, 'F2', 'FRI'
)
;

INSERT INTO WEB_NOVEL(
WEB_NOV_NUM, CATEGORY_CODE, DAY_OF_THE_WEEK_CODE
)
VALUES
(2, 'F1', 'THU'
)
;

INSERT INTO NOV_CATEGORY(
CATEGORY_CODE, CATEGORY_NAME
)
VALUES
('F1','현대판타지');

INSERT INTO NOV_CATEGORY(
CATEGORY_CODE, CATEGORY_NAME
)
VALUES
('F2','판타지');

ALTER TABLE NOV_CATEGORY MODIFY CATEGORY_NAME VARCHAR2(15);


INSERT INTO AUTHOR_INFO
(
 AUTHOR_NUM, MEM_NUM, AUTHOR_REG_YN, JUNIOR_YN
)
VALUES
(
 2, 4, 'Y', 'N'
)
;



COMMIT;

------------------------


SELECT
*
FROM AUTHOR_INFO AI
JOIN MEM_INFO MI ON (AI.MEM_NUM = MI.MEM_NUM)
LEFT JOIN WEB_NOV_INFO WNI ON (AI.AUTHOR_NUM = WNI.WEB_NOV_NUM);

SELECT
*
FROM WEB_NOVEL WN
JOIN WEB_NOV_INFO WNI ON (WN.WEB_NOV_NUM = WNI.WEB_NOV_NUM)
JOIN MEM_INFO MI ON (MI.MEM_NUM = WNI.MEM_NUM)
LEFT JOIN AUTHOR_INFO AI on (MI.MEM_NUM = AI.MEM_NUM);

SELECT
*
FROM NOV_CATEGORY NC
JOIN WEB_NOVEL WN ON(NC.CATEGORY_CODE = WN.CATEGORY_CODE)
JOIN WEB_NOV_INFO WNI ON (WN.WEB_NOV_NUM = WNI.WEB_NOV_NUM);



-----------------



CREATE TABLE COMPET_VOTE_RESULT(
COMPET_NUM NUMBER,
WEB_NOV_NUM NUMBER,
MEM_NUM NUMBER,
COM_VOTE_DATE DATE,
COM_VOTE_YN CHAR(5),
COM_VOTE_POSS CHAR(5),
COM_VOTE_RESULT NUMBER
);

INSERT INTO COMPET_VOTE_RESULT
(
  COMPET_NUM, WEB_NOV_NUM, MEM_NUM,
 COM_VOTE_DATE, COM_VOTE_YN, COM_VOTE_POSS,
 COM_VOTE_RESULT
)
VALUES
(
02, 100, 5, '20/10/10', 'N', 'N', 1
);
INSERT INTO COMPET_VOTE_RESULT
(
  COMPET_NUM, WEB_NOV_NUM, MEM_NUM,
 COM_VOTE_DATE, COM_VOTE_YN, COM_VOTE_POSS,
 COM_VOTE_RESULT
)
VALUES
(
02, 101, 6, '20/10/11', 'Y', 'N', 1
);


CREATE TABLE TMT_VOTE_RESULT(
  TMT_CODE VARCHAR2(10),
  WEB_NOV_NUM NUMBER,
  MEM_NUM NUMBER,
  TMT_VOTE_DATE DATE,
  TMT_VOTE_YN CHAR(5),
  TMT_VOTE_POSS CHAR(5),
  TMT_VOTE_RESULT NUMBER
);

INSERT INTO TMT_VOTE_RESULT
(
TMT_CODE, WEB_NOV_NUM, MEM_NUM,
TMT_VOTE_DATE, TMT_VOTE_YN, TMT_VOTE_POSS,
TMT_VOTE_RESULT
)
VALUES
(
'토너1', 100, 7, '20/09/21', 'N', 'Y', 2
);

INSERT INTO TMT_VOTE_RESULT
(
TMT_CODE, WEB_NOV_NUM, MEM_NUM,
TMT_VOTE_DATE, TMT_VOTE_YN, TMT_VOTE_POSS,
TMT_VOTE_RESULT
)
VALUES
(
'토너2', 101, 8, '20/09/01', 'N', 'N', 1
);